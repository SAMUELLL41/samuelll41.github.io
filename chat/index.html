<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>chat</title>
</head>
<body>
    <div id="messageContainer"></div>

    <label for="nameInput">Name:</label>
    <input type="text" id="nameInput" placeholder="Enter your name">

    <label for="messageInput">Message:</label>
    <textarea id="messageInput" placeholder="Enter your message"></textarea>

    <button onclick="appendToFile()">Submit</button>

    <script>
        function appendToFile() {
            // Get input values
            var name = document.getElementById('nameInput').value;
            var message = document.getElementById('messageInput').value;

            // Create a Blob containing the data
            var blob = new Blob([name + ': ' + message + '\n'], { type: 'text/plain' });

            // Create a link element and trigger a click to download the file
            var link = document.createElement('a');
            link.href = window.URL.createObjectURL(blob);
            link.download = 'message.txt';
            link.click();
        }
        async function displayMessage() {
            const response = await fetch('message.txt');
            const text = await response.text();
            
            const lines = text.split('\n');

            // Clear previous content
            const container = document.getElementById('messageContainer');
            container.innerHTML = '';

            // Display each line in a separate div
            lines.forEach((line) => {
                if (line.trim() !== '') {
                    const div = document.createElement('div');
                    div.textContent = line;
                    container.appendChild(div);
                }
            });
        }

        // Call the function on page load
        displayMessage();
    </script>

</body>
</html>